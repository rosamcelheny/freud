<!DOCTYPE HTML>
<html lang="en">
 <!-- approved ver20210119 installed on freud.alexgriswold.com --> 
  <head>
    <title>Key Image: The Petromyzon and the Riddle of the Eel, 1876</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- styles for this page -->
    <link rel="stylesheet" href="css/keyimage_shared.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="css/keyimage_1.css" type="text/css" media="screen" />
    
    <!-- jquery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <!-- zoomooz library -->
    <script type="text/javascript" src="js/jquery.zoomooz.min.js"></script>
  </head>

<body onload="resize()"> <!-- sets up image -->
      <div class="zoomViewport">
        <div id="container" class="zoomContainer">
          <div class="zoomTarget" data-index="0"></div>
          <div class="zoomTarget" data-index="1"></div>
          <div class="zoomTarget" id="zoom-test" data-index="2"></div>
          <div class="zoomTarget" data-index="3"></div>
          <div class="zoomTarget" data-index="4"></div>
          <div class="zoomTarget" data-index="5"></div>
          <div class="zoomTarget" data-index="6"></div>
          <div class="zoomTarget" data-index="7"></div>
          <div class="zoomTarget" data-index="8"></div>
          <div class="zoomTarget" data-index="9"></div>
          <div class="zoomTarget" data-index="10"></div>
          <div class="zoomTarget" data-index="11"></div>
         
          <!-- Overlays go here -->
          <div class="overlay" data-index="0"></div>
          <div class="overlay" data-index="1"></div>
          <div class="overlay" data-index="2"></div>
          <div class="overlay" data-index="3"></div>
          <div class="overlay" data-index="4">
          <img class="overlay-image" src="images/keyimage_1_caption4.png"></div>
          <div class="overlay" data-index="5"></div>
          <div class="overlay" data-index="6"></div>
          <div class="overlay" data-index="7"></div>
          <div class="overlay" data-index="8"></div>
          <div class="overlay" data-index="9"></div>
          <div class="overlay" data-index="10">
          <img class="overlay-image" src="images/keyimage_1_caption10.png"></div>
          <div class="overlay" data-index="11"></div>
          
          <!-- drawing goes here -->
          <img id="drawing" src="images/keyimage_1.jpg">     
        </div>
      </div>

    <!-- bar at the bottom of the screen -->
    <div class="controls">
      <div id="prev" class="button" data-type="prev" data-root=".zoomViewport">< Back</div>
      <div class="caption-frame">
          <h1 id="title">The Petromyzon and the Riddle of the Eel</h1>
      </div>
      <div id="next" class="button" data-type="next" data-root=".zoomViewport">Next ></div>
    </div>

    <!-- captions here -->
    <h1 class="caption" data-index="0">The Petromyzon and the Riddle of the Eel</h1>
    <div class="caption" data-index="1">
      <p>The drawing is an aggregate of various cross-sections and staining of the <i>Petromyzon</i>.</p>
    </div>
    <div class="caption" data-index="2">
      <p>In Figure 1, we see a posterior view of the <i>Petromyzon's</i> nerves.</p>
    </div>
    <div class="caption" data-index="3">
      <p>The spinal ganglionic cell (<i>spz</i>), an archaic aggregation of nerve cells, is located in the left corner.</p>
    </div>
    <div class="caption" data-index="4">
      <p>Freud includes many elements of the nervous system, while following one nerve fiber as it accompanies a microscopic blood vessel (<i>gbf</i>).</p>
    </div>
    <div class="caption" data-index="5">
      <p>Freud also illustrates a varicose axon of a nerve cell (<i>ff</i>), a part of a nerve fiber not coated with any other cells, and thus with a lower conductivity level. </p>
    </div>
    <div class="caption" data-index="6">
      <p>The capacity to see nerve cells with such a high level of precision was one of the most novel elements in nerve histology and was the result of a staining technique developed by the Spanish neurobiologist Cajal. </p>
    </div>
    <div class="caption" data-index="7">
      <p>Figure 2 depicts a different branch of the posterior root of the spinal ganglion of the <i>Petromyzon</i>. </p>
    </div>
    <div class="caption" data-index="8">
      <p>Of particular note are the black elements, marked as <i>zs</i>, representing spinal ganglion cells firing into the sympathetic branch of the <i>Petromyzon</i>'s nerve system.</p>
    </div>
    <div class="caption" data-index="9">
      <p>On the bottom of the drawing, Figure&nbsp;3 shows a network of nerve cells attached to the <i>pia mater</i>, one of the nerve's <i>meninges</i>, or coating, marked in drawing as <i>PM</i>.</p>
    </div>
    <div class="caption" data-index="10">
      <p>On both the right and left hand side, branches of nerve fibers (<i>nf</i>) spread out of the spinal cord (marked <i>Rmk</i>) through a larger plexus of nerve fibers (<i>A</i>).</p>
     </div> 
	   <div class="caption" data-index="11">   
        <div id="return-link">
          <p>
            <a  href="https://scholar.harvard.edu/agriswold/keyimage_1">Return</a>
          </p>
        </div>
     </div> 
  </body>
  <script>
    // Overview: Clicking next or previous advances/steps back the "current" counter. Zooming, caption and overlay all controlled by counter.
    var caption;
    var current = 0;
    var current_caption;
    var current_zoom;
    var current_overlay;
    var img;
    var height;
    var width;
    var window_width;
    var zoomViewport_height;
    var window_height;
    var margin_top;
    var margin;
    var zoom;
    
    // // Make an array of all the captions.
    var captions = $(".caption");
    var max = captions.length - 1;
    
    // Advance
    $("#next").click(function(){
      if (current < max) {
        current = current + 1;
        console.log("current = " + current);
      } else {
        current = 0;
        console.log("current = " + current);
      }
      display_caption(current);
      display_overlay(current);
      zoom(current);
    });

    // Previous
    $("#prev").click(function(){
      if (current == 0) {
        current = max;
        console.log("current = " + current);
        display_caption(current);
      } else {
        current = current - 1;
        console.log("current = " + current);
        display_caption(current);
      }
      display_overlay(current);
      zoom(current);
    });

    function display_caption(i) {
      current_caption = captions[i];
      $('.caption-frame').html(current_caption);
      console.log(current_caption);
    }

    function display_overlay(i) {
      $(".overlay").hide();
      $(".overlay[data-index='" + i +"']").show();
    }

    function zoom(i) {
      var zoom = $(".zoomTarget[data-index='" + i +"']");
      if ((i == 0) || (i == 1) || (i == 6) || (i == 11)) {
        console.log("nope");
        $("#container").click();
      } else {
        zoom.click();
      }
    }

    // zoomViewport and drawing should be the same size.
    function resize() {
      height = $("#drawing").height();
      width = $("#drawing").width();
      window_width = $(window).width();
      console.log("resized to: " + height, width);

      $("#container").width(width);
      $("#container").height(height);

      zoomViewport_height = $(".zoomViewport").height();
      window_height = $(window).height();
      margin_top = (zoomViewport_height - height) / 2;
      $("#container").css("margin-top", margin_top + "px");
        
      margin = (window_width - width) / 2;
      $("#container").css("margin-left", margin + "px");
    }

    $(document).ready(function(){
      console.log("current = " + current);
      console.log("max =" + max);

      display_caption(current);
      display_overlay(current);

      resize();

      $(".overlay").hide();

      zoom(current);

      $( window ).resize(function() {
        resize();
      });

    });
  </script>
</html>
  